<!DOCTYPE html>
<html>
	<head>
		<title>marknote</title>

		<!-- main app -->
		<script src="front/main.js" charset="utf-8"></script>
		<!-- highlight.js -->
		<link rel="stylesheet" href="highlight/styles/github.css">
		<script type="text/javascript" src="highlight/highlight.pack.js"></script>
		<!-- katex -->
		<link rel="stylesheet" href="node_modules/katex/dist/katex.min.css">
		<!-- bootstrap -->
		<script type="text/javascript" src="bootstrap/bootstrap.js"></script>
		<link rel="stylesheet" type="text/css" href="bootstrap/bootstrap.css">
		<!-- jstree -->
		<script src="front/jstree/dist/jstree.js"></script>
		<link rel="stylesheet" href="front/jstree/dist/themes/default/style.min.css">
		<!-- custom style -->
		<link rel="stylesheet" type="text/css" href="css/index.css">

	</head>
	<body>

		<div id="main-container">
			<!-- 侧边栏 -->
			<div id="side-menu">
				<div id="menu-tree"></div>
				<div id="side-resize" contenteditable="false"></div>
			</div>

			<div id="main-content">
				<div id="notice">
					<p>no note selected</p>
				</div>
				<div id="editor-container" style="display: none;">
					<div id="editor" contenteditable="true">
						<p><br/></p>
					</div>
				</div>
				<div class="modal fade" id="version_list" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
								<h4 class="modal-title" id="myModalLabel">历史版本</h4>
							</div>
							<div id="version_list_body" class="modal-body">

							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>

	</body>
	<script type="text/javascript">
		// 侧边栏拖拽功能
		var side_resizer  = document.getElementById("side-resize")
		var side_menu     = document.getElementById("side-menu")
		var main_content  = document.getElementById("main-content")
		var side_selected = false
		var side_offset   = null

		side_resizer.addEventListener('mousedown', function (e) {
			side_selected = true;
            side_offset = side_menu.offsetWidth - e.pageX;
        });

		document.addEventListener('mousemove', function (e) {
	        if (side_selected) {
	            var width = side_offset + e.pageX
				if (width <=150 || width >= 400) {
					return
				}
				width += 'px'
	            side_menu.style.width = width
				main_content.style.left = width
	        }
	    });

		document.addEventListener('mouseup', function () {
	        side_selected = false;
	    });

	</script>
</html>
